<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Principle Components Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="1_files/libs/clipboard/clipboard.min.js"></script>
<script src="1_files/libs/quarto-html/quarto.js"></script>
<script src="1_files/libs/quarto-html/popper.min.js"></script>
<script src="1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1_files/libs/quarto-html/anchor.min.js"></script>
<link href="1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: true
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Principle Components Analysis</h1>
            <p class="subtitle lead">Multivariate Statistics and Measurement</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#principle-components-analysis" id="toc-principle-components-analysis" class="nav-link active" data-scroll-target="#principle-components-analysis"><span class="header-section-number">1</span> <strong>Principle Components Analysis</strong></a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#observed-variables" id="toc-observed-variables" class="nav-link" data-scroll-target="#observed-variables">Observed Variables</a></li>
  <li><a href="#principle-components" id="toc-principle-components" class="nav-link" data-scroll-target="#principle-components">Principle Components</a></li>
  <li><a href="#the-form-of-principle-components" id="toc-the-form-of-principle-components" class="nav-link" data-scroll-target="#the-form-of-principle-components">The Form of Principle Components</a></li>
  </ul></li>
  <li><a href="#mathematics-of-pca" id="toc-mathematics-of-pca" class="nav-link" data-scroll-target="#mathematics-of-pca"><span class="header-section-number">2</span> <strong>Mathematics of PCA</strong></a>
  <ul class="collapse">
  <li><a href="#calculating-weights" id="toc-calculating-weights" class="nav-link" data-scroll-target="#calculating-weights">Calculating Weights</a></li>
  <li><a href="#standardisation-of-items" id="toc-standardisation-of-items" class="nav-link" data-scroll-target="#standardisation-of-items">Standardisation of Items</a></li>
  </ul></li>
  <li><a href="#interpreting-principle-components" id="toc-interpreting-principle-components" class="nav-link" data-scroll-target="#interpreting-principle-components"><span class="header-section-number">3</span> <strong>Interpreting Principle Components</strong></a>
  <ul class="collapse">
  <li><a href="#properties-of-principal-components" id="toc-properties-of-principal-components" class="nav-link" data-scroll-target="#properties-of-principal-components">Properties of Principal Components</a></li>
  <li><a href="#choosing-number-of-components" id="toc-choosing-number-of-components" class="nav-link" data-scroll-target="#choosing-number-of-components">Choosing Number of Components</a></li>
  <li><a href="#weights-and-component-loadings" id="toc-weights-and-component-loadings" class="nav-link" data-scroll-target="#weights-and-component-loadings">Weights and Component Loadings</a></li>
  <li><a href="#weights-and-correlations-of-original-variables" id="toc-weights-and-correlations-of-original-variables" class="nav-link" data-scroll-target="#weights-and-correlations-of-original-variables">Weights and Correlations of Original Variables</a></li>
  <li><a href="#principle-component-scores" id="toc-principle-component-scores" class="nav-link" data-scroll-target="#principle-component-scores">Principle Component Scores</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Summary goes here</p>
<hr>
<section id="principle-components-analysis" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> <strong>Principle Components Analysis</strong></h1>
<section id="introduction" class="level3">
<h3 class="anchored" data-anchor-id="introduction">Introduction</h3>
<p>Principle Components Analysis (PCA) combines multiple observed variables into one or new observed variables (called principle components).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3381986820.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>We might not be interested in these separate variables <span class="math inline">x_1, x_2, x_3</span>, but instead, want to use the together to measure something. Thus, we summarise them into one (or more) variables <span class="math inline">y_1</span>.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example: Trust in Institutions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A survey asked respondents to respond, on a scale of 0-10, how much they trust the institutions.</p>
<ul>
<li>Parliament: <span class="math inline">x_1</span></li>
<li>Legal: <span class="math inline">x_2</span></li>
<li>Police: <span class="math inline">x_3</span></li>
<li>Politicians: <span class="math inline">x_4</span></li>
<li>Political Parties: <span class="math inline">x_5</span></li>
<li>European Parliament: <span class="math inline">x_6</span></li>
<li>United Nations: <span class="math inline">x_7</span></li>
</ul>
<p>We don’t care about each variable individually. We want to summarise them into one variable that describes trust in institutions.</p>
<p>We can use PCA to create <span class="math inline">y_1</span> (and <span class="math inline">y_2</span>, and more).</p>
</div>
</div>
</div>
<p>We could also be interested in dimensional reduction - reducing the number of variables we have. This could be because we want to avoid imprecise standard errors that result from high correlations between variables, or could be because we want to improve the efficiency of large models.</p>
<p><br></p>
</section>
<section id="observed-variables" class="level3">
<h3 class="anchored" data-anchor-id="observed-variables">Observed Variables</h3>
<p>We have <span class="math inline">p</span> observed variables <span class="math inline">x_i, \ i = 1,2,\dots,p</span>, measured for each unit in a sample of data.</p>
<p>These variables can be summarised by:</p>
<ol type="1">
<li>Their sample means <span class="math inline">\bar x_i</span>.</li>
<li>Their sample variances <span class="math inline">var(x_i)</span> and standard deviations <span class="math inline">s_i = \sqrt{Var(x_i)}</span>.</li>
<li>Sample correlations <span class="math inline">Corr(x_i, x_k)</span> for each pair of variables <span class="math inline">i ≠ k</span>.</li>
<li>Total variance of the <span class="math inline">p</span> variables: <span class="math inline">Var(x_1) + Var(x_2)+ \dots + Var(x_p)</span>.</li>
</ol>
<p>The sample correlations <span class="math inline">Corr(x_i, x_k)</span> can be summarised in a correlation matrix.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example of a Correlation Matrix
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is an example of a correlation matrix between 7 variables (the same 7 in the example above).</p>
<p><img src="images/clipboard-1213137255.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="principle-components" class="level3">
<h3 class="anchored" data-anchor-id="principle-components">Principle Components</h3>
<p>PCA takes these original variables <span class="math inline">x_1, \dots, x_p</span>, and calculates a set of new variables (principle components) <span class="math inline">y_1, \dots, y_p</span>.</p>
<p>The principle components have the following properties:</p>
<ol type="1">
<li>Each principle component is a linear combination (weighted sums) of the original variables: <span class="math inline">y_j = a_{1j}x_1 + a_{2j}x_2 + \dots + a_{pj}x_p</span>. This allows for interpretation of the principle components.</li>
<li>The principle components together have the same total variance as the original variables: <span class="math inline">\sum Var(y_i) = \sum Var(x_i)</span>. Thus, the principle components carry the same information as the original variables, just with a different distribution.</li>
<li>The principle components are all uncorrelated with each other. <span class="math inline">Corr(y_j , y_k) = 0, \ \forall \ j ≠ k</span>. Thus, the difference components convey distinct aspects of the data.</li>
<li>The variances of each principle component are decreasing: <span class="math inline">Var(y_j) ≥ Var(y_{j+1})</span>. For summarising information, we tend to only use the first few components (who have the largest variances), and ignore the rest.</li>
</ol>
<p><br></p>
</section>
<section id="the-form-of-principle-components" class="level3">
<h3 class="anchored" data-anchor-id="the-form-of-principle-components">The Form of Principle Components</h3>
<p>Each principle component <span class="math inline">y_j</span> are all linear combinations of the original variables:</p>
<p><span class="math display">
\begin{split}
y_1 = &amp; a_{11}x_1 + a_{21}x_2 + \dots + a_{p1}x_p \\
y_2 = &amp; a_{12}x_1 + a_{22}x_2 + \dots + a_{p2}x_p \\
&amp; \vdots \\
y_p = &amp; a_{1p}x_1 + a_{2p}x_2 + \dots + a_{pp}x_p
\end{split}
</span></p>
<p>Each component is a weighted sum of the original variables, with weights <span class="math inline">a_{ij}</span>. These weights have a few properties:</p>
<ol type="1">
<li><span class="math inline">\sum_i a_{ij}^2 = 1</span> for each <span class="math inline">j = 1, 2, \dots, p</span>. Or in other words, the weights should sum to 1.</li>
<li><span class="math inline">\sum_i a_{ij}a_{ik} = 0</span> for every pair <span class="math inline">j ≠ k</span>, which ensures <span class="math inline">Corr(y_j, y_k) = 0</span>: all principle components are uncorrelated with each other.</li>
</ol>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="mathematics-of-pca" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> <strong>Mathematics of PCA</strong></h1>
<section id="calculating-weights" class="level3">
<h3 class="anchored" data-anchor-id="calculating-weights">Calculating Weights</h3>
<p>The weights <span class="math inline">a_{ij}</span> are calculated from eigenvalue decomposition of the covariance matrix of <span class="math inline">x_1, \dots, x_p</span>.</p>
<p><span class="math inline">(a_{1j}, a_{2j}, \dots, a_{pj})</span> is the eigenvector corresponding to the <span class="math inline">j</span>th eigenvalue <span class="math inline">\lambda_j</span>.</p>
<p><br></p>
<p><br></p>
</section>
<section id="standardisation-of-items" class="level3">
<h3 class="anchored" data-anchor-id="standardisation-of-items">Standardisation of Items</h3>
<p>The results of PCA will be affected by the variances of individual variables. If <span class="math inline">Var(x_1) &gt; Var(x_2)</span>, <span class="math inline">x_1</span> will receive a larger weight in PCA.</p>
<p>This means that if we have different measurement scales for variables, we can get very different PCA results. This is very similar to the issue of comparing covariances, which generally need to be standardised into correlation coefficients.</p>
<p>To prevent measurement scales from affecting PCA, we will standardise the observations for each variable, creating a new variable <span class="math inline">z_{it}</span> (<span class="math inline">t</span> is observations <span class="math inline">t = 1, \dots, n</span> in the sample):</p>
<p><span class="math display">
z_{it} = \frac{x_{it} - \bar x_i}{s_i}
</span></p>
<p>A standardised variable has sample mean 0, and standard deviation and variance of 1. Thus, the total variance of all standardised variables <span class="math inline">z_i</span> is equal to the number of variables:</p>
<p><span class="math display">
\sum\limits_{i=1}^p Var(z_i) = p
</span></p>
<p>We can also avoid the standardisation step by performing PCA on the correlation matrix instead of the covariance matrix (since correlation coefficients are already standardised).</p>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="interpreting-principle-components" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> <strong>Interpreting Principle Components</strong></h1>
<section id="properties-of-principal-components" class="level3">
<h3 class="anchored" data-anchor-id="properties-of-principal-components">Properties of Principal Components</h3>
<p>The variance of <span class="math inline">y_j</span>, is equivalent to the <span class="math inline">j</span>th eigenvalue:</p>
<p><span class="math display">
Var(y_j) = \lambda_j
</span></p>
<p>The proportion of the first <span class="math inline">q</span> principle components is thus:</p>
<p><span class="math display">
\frac{\lambda_1 + \lambda_2 + \dots + \lambda_q}{\lambda_1 + \lambda_2 + \dots + \lambda_p}
</span></p>
<p>Principle components are listed in decreasing order of variance <span class="math inline">\lambda_1, ≥ \lambda_2 ≥ \dots ≥ \lambda_p</span>.</p>
<p><br></p>
</section>
<section id="choosing-number-of-components" class="level3">
<h3 class="anchored" data-anchor-id="choosing-number-of-components">Choosing Number of Components</h3>
<p>You could just choose the first principle component <span class="math inline">y_1</span>, and use it.</p>
<p>However, the best practice is to retain as few as possible principle components, without losing a significant amount of variability. There are a few different rules that people often use to determine how many principle components to use:</p>
<ol type="1">
<li>Retain as many components <span class="math inline">q</span> such that it explains 70-80% of the variation.</li>
<li>Retain components with large eigenvalues <span class="math inline">\lambda_j</span>, generally at least 0.7 if using the covariance matrix, and 1 for the correlation matrix.</li>
<li>Omit components once <span class="math inline">\lambda_j</span> stops decreasing significantly (using a scree plot).</li>
</ol>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Scree Plot of <span class="math inline">\lambda_j</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a scree plot of <span class="math inline">\lambda_j</span> on the <span class="math inline">y</span> axis, and the principle component on the <span class="math inline">y</span> axis.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-433752634.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:65.0%"></p>
</figure>
</div>
<p>We can see after the first two principle components, the plot becomes relatively flat. Thus, we can keep components 1 and 2, and we can ignore the rest.</p>
</div>
</div>
</div>
<p>Generally, you will normally keep around 2 or 3 principle components following these guidelines. You should also consider the interpretation of the principle components when deciding to keep the components.</p>
<p><br></p>
</section>
<section id="weights-and-component-loadings" class="level3">
<h3 class="anchored" data-anchor-id="weights-and-component-loadings">Weights and Component Loadings</h3>
<p>Each principle component is a weighted sum of the original variables, with <span class="math inline">a_{ij}</span> being weights:</p>
<p><span class="math display">
y_j = a_{1j}x_1 + a_{2j}x_2 + \dots + a_{pj}x_p
</span></p>
<p>Thus, a larger weight for a variable means that variable contributes more, and a smaller weight for a variable means that the variable contributes less.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example of Interpreting Weights
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a table of weights:</p>
<p><img src="images/clipboard-2989123362.png" class="img-fluid" style="width:100.0%"></p>
<p>We can see that it seems that police is contributing the least to the first principle component <span class="math inline">y_1</span>.</p>
</div>
</div>
</div>
<p>We can also consider the weights in a normalised form, called <strong>component loadings</strong>:</p>
<p><span class="math display">
a^*_{ij} = \sqrt{\lambda_j}  \ a_{ij} = sd(y_j) a_{ij}
</span></p>
<p>When PCA is based on the correlation matrix, we will have the property that the component loadings equals the correlation between the given variable <span class="math inline">x_i</span> and the principle component <span class="math inline">y_j</span>:</p>
<p><span class="math display">
a^*_{ij} = Corr(x_i, y_j)
</span></p>
<p>This property can help us interpret what higher values of <span class="math inline">y_j</span> and lower values of <span class="math inline">y_j</span> mean for each principle component.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example of Component Weights
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a table of component weights:</p>
<p><img src="images/clipboard-2059086054.png" class="img-fluid" style="width:100.0%"></p>
<p>We can see that all of the component weights for the first component are positive. That means that the first principle component <span class="math inline">y_1</span> is positively correlated with all <span class="math inline">x_i</span>.</p>
<p>We know that all <span class="math inline">x_i</span> are scales of 0 - 10 on how much they trust the institution in question. Thus, we know that for principle component <span class="math inline">y_1</span>, that higher values mean higher trust in institutions.</p>
<p>For the second principle component <span class="math inline">y_2</span>, there are some positives and some negatives. The negative correlations are with legal, police, and UN, and the positive correlations are with parliament, politicians, political parties, and european parliament.</p>
<p>We could interpret this as the second principle component <span class="math inline">y_2</span> increases, the trust in legal/police decreases, but the trust in political institutions increase. Thus, <span class="math inline">y_2</span> could be a measure of trust in legal/police versus political institutions.</p>
<p>For the third principle component, we can see only the trust in european parliament and UN is negative. Thus, we could interpret <span class="math inline">y_2</span> as a measure of trust in national versus international institutions.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="weights-and-correlations-of-original-variables" class="level3">
<h3 class="anchored" data-anchor-id="weights-and-correlations-of-original-variables">Weights and Correlations of Original Variables</h3>
<p>PCA is derived from the sample correlation matrix. Thus, the weights also reflect patterns in the correlations of the original variables <span class="math inline">x_i</span>.</p>
<p>Patterns between the weights of the first principle component and correlation matrix include the following:</p>
<ul>
<li>If the correlations of all variables is positive, then the first principle component will be positive. This is because all the variables that are correlated mean they are measuring the “same thing” in the same direction.</li>
<li>Variables which on average have the largest correlations with other variables will get the largest weights. This makes sense, since variables with the largest correlations seem to be measuring the “concept” the most.</li>
<li>If a variable has 0 correlation with the other variables, it will get a 0 weight, since it is measuring a completely different thing than the other variables.</li>
</ul>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Correlation Matrix and the First Principle Component
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Below is a correlation matrix between variables:</p>
<p><img src="images/clipboard-3732715283.png" class="img-fluid"></p>
<p>We can see the variable <em>politicians</em> (highlighted in blue) have the largest correlation with the other variables on average.</p>
<p>We can see the variable <em>police</em> (highlighted in yellow) have the smallest correlation with other variables on average. It might be the “odd one out”, not as lined up as the rest, so it gets a smaller weight in the first principle component.</p>
</div>
</div>
</div>
<p>The second principle component is the <em>contrast</em> of the first principle component (remember, the covariance between the two is 0).</p>
<p>It will identify two subgroups of variables, such that each subgroup will have high correlations within them, but the correlation between groups is lower.</p>
<p><br></p>
</section>
<section id="principle-component-scores" class="level3">
<h3 class="anchored" data-anchor-id="principle-component-scores">Principle Component Scores</h3>
<p>For each unit <span class="math inline">i</span> (individual), we can calculate a component score for the <span class="math inline">j</span>th principle component:</p>
<p><span class="math display">
y_j = a_{1j}z_1 + a_{2j}z_2 + \dots + a_{pj}z_p
</span></p>
<p>By doing this for each individual unit <span class="math inline">i</span>, we now have a new variable <span class="math inline">y_j</span> that we can use for further analysis. Such analyses can include:</p>
<ol type="1">
<li>We could plot the principle component scores for the first and second principle component score, and look for clusters with similar values.</li>
<li>We could use the principle component scores as summary statistics for some phenomena.</li>
<li>We could also use the scores of <span class="math inline">y_j</span> and input into a regression model or another statistical model.</li>
</ol>
<p><br></p>
<p><br></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>