<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introductory Statistics – Political Science &amp; Political Economy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="mathjax-config.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./quant1.html">1 Introductory Statistics</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Kevin’s PSPE Resources</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./games.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Guide to Game Theory</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
 <span class="menu-text">Quantitative Methods (Causal Inference)</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1 Introductory Statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 Multiple Linear Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3 Classic Least Squares Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 Causal Frameworks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 Randomised Controlled Trials</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6 Selection on Observables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant7.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7 Instrumental Variables</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant8.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8 Regression Discontinuity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant9.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9 Differences-in-Differences</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quant10.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">10 Synthetic Controls Method</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
 <span class="menu-text">Further Statistical Models</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model1.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic Regression Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model2.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression for Counts</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Random Forests and Bagging</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Principle Components Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Factor Analysis Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model6.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Latent Trait Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model7.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Latent Class Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model8.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./model9.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Structural Equation Models</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
 <span class="menu-text">Additional Materials</span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Linear Algebra Reference</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calc.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus Reference</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On This Page</h2>
   
  <ul>
  <li><a href="#random-variables" id="toc-random-variables" class="nav-link active" data-scroll-target="#random-variables"><strong>Random Variables</strong></a>
  <ul class="collapse">
  <li><a href="#basics-of-probability" id="toc-basics-of-probability" class="nav-link" data-scroll-target="#basics-of-probability">Basics of Probability</a></li>
  <li><a href="#random-variables-and-distributions" id="toc-random-variables-and-distributions" class="nav-link" data-scroll-target="#random-variables-and-distributions">Random Variables and Distributions</a></li>
  <li><a href="#probability-density-functions" id="toc-probability-density-functions" class="nav-link" data-scroll-target="#probability-density-functions">Probability Density Functions</a></li>
  <li><a href="#expectation-and-variance" id="toc-expectation-and-variance" class="nav-link" data-scroll-target="#expectation-and-variance">Expectation and Variance</a></li>
  <li><a href="#conditional-distributions" id="toc-conditional-distributions" class="nav-link" data-scroll-target="#conditional-distributions">Conditional Distributions</a></li>
  </ul></li>
  <li><a href="#distributions" id="toc-distributions" class="nav-link" data-scroll-target="#distributions"><strong>Distributions</strong></a>
  <ul class="collapse">
  <li><a href="#the-normal-distribution" id="toc-the-normal-distribution" class="nav-link" data-scroll-target="#the-normal-distribution">The Normal Distribution</a></li>
  <li><a href="#properties-of-the-normal-distribution" id="toc-properties-of-the-normal-distribution" class="nav-link" data-scroll-target="#properties-of-the-normal-distribution">Properties of the Normal Distribution</a></li>
  <li><a href="#the-standard-normal-distribution" id="toc-the-standard-normal-distribution" class="nav-link" data-scroll-target="#the-standard-normal-distribution">The Standard Normal Distribution</a></li>
  <li><a href="#the-t-distribution" id="toc-the-t-distribution" class="nav-link" data-scroll-target="#the-t-distribution">The T-Distribution</a></li>
  <li><a href="#bernoulli-and-binomial-distribution" id="toc-bernoulli-and-binomial-distribution" class="nav-link" data-scroll-target="#bernoulli-and-binomial-distribution">Bernoulli and Binomial Distribution</a></li>
  </ul></li>
  <li><a href="#statistical-inference" id="toc-statistical-inference" class="nav-link" data-scroll-target="#statistical-inference"><strong>Statistical Inference</strong></a>
  <ul class="collapse">
  <li><a href="#estimands-and-estimates" id="toc-estimands-and-estimates" class="nav-link" data-scroll-target="#estimands-and-estimates">Estimands and Estimates</a></li>
  <li><a href="#central-limit-theorem" id="toc-central-limit-theorem" class="nav-link" data-scroll-target="#central-limit-theorem">Central Limit Theorem</a></li>
  <li><a href="#nonparametric-bootstrap" id="toc-nonparametric-bootstrap" class="nav-link" data-scroll-target="#nonparametric-bootstrap">Nonparametric Bootstrap</a></li>
  <li><a href="#statistical-testing" id="toc-statistical-testing" class="nav-link" data-scroll-target="#statistical-testing">Statistical Testing</a></li>
  <li><a href="#implementing-a-hypothesis-test" id="toc-implementing-a-hypothesis-test" class="nav-link" data-scroll-target="#implementing-a-hypothesis-test">Implementing a Hypothesis Test</a></li>
  <li><a href="#types-of-errors" id="toc-types-of-errors" class="nav-link" data-scroll-target="#types-of-errors">Types of Errors</a></li>
  <li><a href="#confidence-intervals" id="toc-confidence-intervals" class="nav-link" data-scroll-target="#confidence-intervals">Confidence Intervals</a></li>
  </ul></li>
  <li><a href="#correlations-between-variables" id="toc-correlations-between-variables" class="nav-link" data-scroll-target="#correlations-between-variables"><strong>Correlations Between Variables</strong></a>
  <ul class="collapse">
  <li><a href="#covariance-and-correlation" id="toc-covariance-and-correlation" class="nav-link" data-scroll-target="#covariance-and-correlation">Covariance and Correlation</a></li>
  <li><a href="#best-fit-lines" id="toc-best-fit-lines" class="nav-link" data-scroll-target="#best-fit-lines">Best-Fit Lines</a></li>
  <li><a href="#simple-linear-regression" id="toc-simple-linear-regression" class="nav-link" data-scroll-target="#simple-linear-regression">Simple Linear Regression</a></li>
  <li><a href="#multiple-linear-regression" id="toc-multiple-linear-regression" class="nav-link" data-scroll-target="#multiple-linear-regression">Multiple Linear Regression</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introductory Statistics</h1>
<p class="subtitle lead">Chapter 1, Quantitative Methods (Causal Inference)</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This chapter is about the very building blocks of statistics. We start off with a discussion over probability, random variables, and distributions. Then, we talk about the basics of statistical inference and hypothesis testing. We conclude by discussing correlations between variables and the basics of regression.</p>
<hr>
<section id="random-variables" class="level1">
<h1><strong>Random Variables</strong></h1>
<section id="basics-of-probability" class="level3">
<h3 class="anchored" data-anchor-id="basics-of-probability">Basics of Probability</h3>
<p>An <strong>experiment</strong> is some process that has several different possible outcomes. The <strong>sample space</strong> <span class="math inline">\(\Omega\)</span> of the experiment is the set of all possible outcomes of the experiment.</p>
<p>An <strong>event</strong> <span class="math inline">\(A\)</span> is some subset of outcomes of the sample space, <span class="math inline">\(A \in \Omega\)</span>. The probability of event <span class="math inline">\(A\)</span> occuring, that we notate as <span class="math inline">\(Pr(A)\)</span>, is the chance of some subset of outcomes <span class="math inline">\(A\)</span> occuring in relation to the set of all possible outcomes <span class="math inline">\(\Omega\)</span>.</p>
<p>Let us have two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>. The following probabilities are:</p>
<ol type="1">
<li><span class="math inline">\(Pr(A \cap B)\)</span>: the probability that <span class="math inline">\(A\)</span> <strong>and</strong> <span class="math inline">\(B\)</span> both happen. This is called a <strong>join probability</strong>.</li>
<li><span class="math inline">\(Pr(A \cup B)\)</span>: the probability that <span class="math inline">\(A\)</span> <strong>or</strong> <span class="math inline">\(B\)</span> occurs - at least one occurs.</li>
<li><span class="math inline">\(Pr(A^c)\)</span>: the probability that <strong>not</strong>-<span class="math inline">\(A\)</span> occurs - so the probability that anything other than <span class="math inline">\(A\)</span> occurs. By definition, <span class="math inline">\(Pr(A^c)  = 1 - Pr(A)\)</span>.</li>
</ol>
<p>Probabilities have a few <strong>axioms</strong>:</p>
<ol type="1">
<li>For any event <span class="math inline">\(A\)</span>, there must be a non-negative probability: <span class="math inline">\(Pr(A) ≥ 0\)</span>.</li>
<li>The probability of all possible outcomes (sample space) is 1: <span class="math inline">\(Pr(\Omega) = 1\)</span>.</li>
</ol>
<p>Finally, if we have mutually exclusive events (i.e.&nbsp;if <span class="math inline">\(A\)</span> occurs than <span class="math inline">\(B\)</span> cannot occur at the same time), then the probability either <span class="math inline">\(A\)</span> or <span class="math inline">\(B\)</span> occurs is:</p>
<p><span class="math display">\[
Pr(A \cup B) = Pr(A)+Pr(B)
\]</span></p>
<p>This can be generalised to any number of events, as long as they are mutually exclusive.</p>
<p><br></p>
</section>
<section id="random-variables-and-distributions" class="level3">
<h3 class="anchored" data-anchor-id="random-variables-and-distributions">Random Variables and Distributions</h3>
<p>In statistics, we will talk a lot about random variables. Random variables are outcomes that have some randomness/uncertainty. For example, if you flip a coin, you could get heads or tails.</p>
<p>While we do not know the outcomes of these random events, we do know at what probability things will happen. You know that if you flip a coin, you have a 50% chance you get heads.</p>
<p>We can represent the potential outcomes of random variables, and the associated probabilities with each outcome, in a <strong>distribution</strong>. On the horizontal axis, we plot all possible values of the outcome, and on the vertical axis, we plot the probability of each outcome. For example, below is the distribution of a dice - there are 6 potential outcomes, each with a 1/6 probability.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-713724518.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:55.0%"></p>
</figure>
</div>
<p>There are two types of random variables:</p>
<ol type="1">
<li><strong>Continuous random variables</strong>: these can take any possible value between two numbers as an outcome, including 1, 3, 3.33247, etc.</li>
<li><strong>Discrete random variables</strong>: these can only take a certain set of values, not any possible decimal. For example, a dice roll can only take the values of 1, 2, 3,…, and not 3.23478.</li>
</ol>
<p><br></p>
</section>
<section id="probability-density-functions" class="level3">
<h3 class="anchored" data-anchor-id="probability-density-functions">Probability Density Functions</h3>
<p>We know that random variables can be represented by distributions. We can also describe these distributions mathematically. A <strong>probability density function</strong> is a function <span class="math inline">\(p\)</span> that takes one potential outcome as an input, and spits out the probability of that outcome. For example, the probability density function of a dice is:</p>
<p><span class="math display">\[
Pr(x) = p(x) = 1/6
\]</span></p>
<p>We can see that if we want to see the probability of getting a 5 on our dice roll, we plug in <span class="math inline">\(x=5\)</span> to get <span class="math inline">\(p(5) = 1/6\)</span>, which is the probability of rolling a 5.</p>
<p>For continuous random variables, things become slightly more complex. This is because it does not make sense to calculate the probability of one specific outcome.</p>
<p>For example, let us say your random variable is the time it will take you to get to school tomorrow. We really do not care about the probability of taking 13.4357 minutes to get to school. What we do care about is a range - lets say the probability of getting to school between 13 and 14 minutes.</p>
<p>More mathematically, the probability density function of a continuous random variable gives you the probability of an outcome between <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>:</p>
<p><span class="math display">\[
Pr(a&lt;x&lt;b) =\int\limits_a^bp(x)dx
\]</span></p>
<p>This integral is important - it tells us that the area under a distribution gives us the probability of an event occuring. This will become very valuable later on.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1038590923.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Cumulative Density Functions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Cumulative density functions measure the cumulative probability below a certain point.</p>
<p>For example, to get the probability of anything below <span class="math inline">\(a\)</span> occurring as an outcome, our cumulative density function is:</p>
<p><span class="math display">\[
Pr(x&lt;a) = \int\limits_{-∞}^ap(x)dx
\]</span></p>
<p>This will be useful in some cases to calculate values for probability density functions.</p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="expectation-and-variance" class="level3">
<h3 class="anchored" data-anchor-id="expectation-and-variance">Expectation and Variance</h3>
<p>Every distribution (and its associated probability density function) can be described with two summary statistics: the <strong>Expectation</strong> and <strong>Variance</strong>.</p>
<p>The <strong>expectation</strong>, also called the <strong>mean</strong> or <strong>expected value</strong>, is the “average” outcome value that you would expect to get from the distribution. It is essentially our “best guess” of what the random variable’s outcome would be.</p>
<p>Expectation for a discrete random variable <span class="math inline">\(X\)</span> is calculated as a weighted sum of all potential outcomes <span class="math inline">\(x_i\)</span> and their respective probabilities given by the probability density function <span class="math inline">\(p(x_i)\)</span>:</p>
<p><span class="math display">\[
E(X) = \mu_X = \sum\limits_{i=1}^n(x_i \times p(x_i))
\]</span></p>
<p>For a continuous random variable <span class="math inline">\(X\)</span>, the idea is the same but with an integral:</p>
<p><span class="math display">\[
E(X) = \mu_X = \int\limits_{-∞}^∞ (x \times p(x))
\]</span></p>
<p>Expectation allows us to have our best-guess at what the outcome of a random variable would be. However, we also would like to know how spread out the random variable’s distribution is.</p>
<p>For example, let us have two random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. <span class="math inline">\(X\)</span> has two potential outcomes of 4 and 6. <span class="math inline">\(Y\)</span> has two potential outcomes 0 and 10. Let us assume all outcomes have the same probability. That means <span class="math inline">\(E(X) = E(Y) =5\)</span>. However, clearly, these two random variables are not the same - <span class="math inline">\(Y\)</span> is far more spread out.</p>
<p><strong>Variance</strong> measures the spread of a distribution. It is essentially the average distance of each individual outcome from the expected value <span class="math inline">\(\mu\)</span> of the random variable:</p>
<p><span class="math display">\[
Var(X) = \sigma^2= E(x - \mu)^2 = \sum\limits_{i=1}^n p(x_i) \times (x_i - \mu_X)^2
\]</span></p>
<p>The <strong>standard deviation</strong> is simply the square root of variance.</p>
<p><br></p>
</section>
<section id="conditional-distributions" class="level3">
<h3 class="anchored" data-anchor-id="conditional-distributions">Conditional Distributions</h3>
<p>Let us say we have two random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, each with their own respective distributions.</p>
<p>Often in statistics, we are interested in how two variables interact with each other. For example, we are interested in how democracy affects economic growth. Or how education affects income.</p>
<p>Conditional distributions are a distribution of one random variable <span class="math inline">\(X\)</span>, given we hold another variable <span class="math inline">\(Y\)</span> fixed at some value.</p>
<p>For example, imagine <span class="math inline">\(X\)</span> is income and <span class="math inline">\(Y\)</span> is age. The conditional distribution of <span class="math inline">\(X|Y\)</span> is the distribution of income <span class="math inline">\(X\)</span> at every specific age <span class="math inline">\(Y\)</span>. For example, <span class="math inline">\(X|Y = 20\)</span> is the distribution of income <span class="math inline">\(X\)</span> for 20 year olds. <span class="math inline">\(X|Y=60\)</span> would be the distribution of income <span class="math inline">\(X\)</span> for 60 year olds.</p>
<p>Conditional distributions have all the same properties as normal distributions. The most important of these is the <strong>conditional expectation</strong>, which we denotate <span class="math inline">\(E(X|Y)\)</span>. In the context of above, <span class="math inline">\(E(X|Y=20)\)</span> would be the <strong>expected</strong> income for a 20 year old.</p>
<p>The reason conditional expectations are so important is because they illustrate how one variable affects another. If we see a pattern in going between <span class="math inline">\(E(X|Y=20)\)</span>, <span class="math inline">\(E(X|Y = 21)\)</span>, and <span class="math inline">\(E(X|Y = 24)\)</span>, we might be tempted to say that increasing age <span class="math inline">\(Y\)</span> has some effect on income <span class="math inline">\(X\)</span>.</p>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="distributions" class="level1">
<h1><strong>Distributions</strong></h1>
<section id="the-normal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="the-normal-distribution">The Normal Distribution</h3>
<p>The most common random variable distribution is the <strong>Normal Distribution</strong>, and is one we will encounter a lot. The normal distribution is for continuous random variables, and takes a famous “bell shape”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-352151225.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%"></p>
</figure>
</div>
<p>Every single normal distribution can be defined by two parameters: the mean and the variance. We define a normal distribution as follows:</p>
<p><span class="math display">\[
\sim \mathcal N(\mu, \sigma^2)
\]</span></p>
<p>Where <span class="math inline">\(\mathcal N\)</span> represents the normal distribution, <span class="math inline">\(\mu\)</span> represents the expected value of the distribution, and <span class="math inline">\(\sigma^2\)</span> represents the variance. The figure below shows how normal distributions change when you alter <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma^2\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2268260367.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
PDF of the Normal Distribution
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The probability density function of a normal distribution is:</p>
<p><span class="math display">\[
Pr(a&lt;x&lt;b) = \int\limits_a^b \frac{1}{\sqrt{2\pi\sigma^2}}e^{\left( -\frac{(x - \mu)^2}{2 \sigma^2}\right)}dx
\]</span></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="properties-of-the-normal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="properties-of-the-normal-distribution">Properties of the Normal Distribution</h3>
<p>The most important thing about Normal Distributions is a unique property they have - within each standard deviation <span class="math inline">\(\sigma\)</span>, every single normal distribution contains the same amount of area under the curve (which is also the probability).</p>
<ul>
<li>Within <span class="math inline">\((\mu - \sigma, \ \mu + \sigma)\)</span>, 68% of the area under the curve is included.</li>
<li>Within <span class="math inline">\((\mu - 2\sigma, \ \mu + 2\sigma)\)</span>, 95% of the area under the curve is included.</li>
<li>Within <span class="math inline">\((\mu - 3 \sigma, \ \mu + 3 \sigma)\)</span>, 99.7% of the area under the curve is included.</li>
</ul>
<p><img src="images/clipboard-2691725554.png" class="img-fluid" style="width:100.0%"></p>
<p>These properties apply to every single normal distribution. These properties will become critical when we start talking about statistical inference.</p>
<p>Another property of the normal distribution is that we can manipulate them as follows.</p>
<ol type="1">
<li>We can add a constant <span class="math inline">\(c\)</span> to every single outcome/value in a normal distribution. The resulting distribution will still be a normal distribution, just with its mean shifted by <span class="math inline">\(c\)</span>. Or in other words: <span class="math inline">\(X \sim \mathcal N(\mu + c, \sigma^2)\)</span>.</li>
<li>We can multiply by constant <span class="math inline">\(c\)</span> to every single outcome/value in a normal distribution. The resulting distribution will still be a normal distribution, just with its mean multiplied by <span class="math inline">\(c\)</span>, and its standard deviation multipled by <span class="math inline">\(c^2\)</span>. Or in other words: <span class="math inline">\(X \sim \mathcal N(c \mu, (c \mu)^2)\)</span>.</li>
</ol>
<p><br></p>
</section>
<section id="the-standard-normal-distribution" class="level3">
<h3 class="anchored" data-anchor-id="the-standard-normal-distribution">The Standard Normal Distribution</h3>
<p>The standard normal distribution (often called the <span class="math inline">\(Z\)</span>-distribution) is a special version of the normal distribution, with a mean of 0 and a variance of 1:</p>
<p><span class="math display">\[
Z \sim\mathcal N(0, 1)
\]</span></p>
<p>Below is a figure of the standard normal distribution:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/img_standard_normal.svg" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
<p>Since the standard deviation is also equal to 1 in a standard normal, we can talk about units of standard deviation away from the mean.</p>
<p>The best part about the standard normal distribution is that we can transform any other normal distribution into a standard normal. Recall the properties of adding and multiplying constants to a normal distribution from above. That means we can apply a transformation to every value/unit in a normal distribution <span class="math inline">\(X\)</span> to get a standard normal distribution <span class="math inline">\(Z\)</span>:</p>
<p><span class="math display">\[
Z = \frac{x - \mu}{\sigma} \sim \mathcal N(0,1)
\]</span></p>
<p>Or in other words, for every value of <span class="math inline">\(x \in X\)</span>, subtract the mean, then divide by the standard deviation. If you do this for every value <span class="math inline">\(x \in X\)</span>, you will get a standard normal.</p>
<p><br></p>
</section>
<section id="the-t-distribution" class="level3">
<h3 class="anchored" data-anchor-id="the-t-distribution">The T-Distribution</h3>
<p>The T-distribution (also called the Student’s T-Distribution) is another distribution that is commonly used. The T-distribution looks very similar to that of the normal distribution, with the same bell curve shape. However, the t-distribution are slightly fatter than the normal distribution.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1130923565.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>The key difference between the t-distribution and the normal distribution is the parameters. Unlike the normal distribution, which has 2 parameters, the t-distribution has only one parameter: degrees of freedom.</p>
<p>The t-distribution is always centered on 0. Higher degrees of freedom means less thick tails, and lower degrees of freedom mean thicker tails. As degrees of freedom get larger (past 30), it almost perfectly matches the normal distribution.</p>
<p>The importance of the T-distribution is that it is often used for statistical inference when the normal distribution, for whatever reason, cannot be used. This is often because with the normal distribution, we need to know variance <span class="math inline">\(\sigma^2\)</span>, but we do not need to know this to use the T-distribution.</p>
<p><br></p>
</section>
<section id="bernoulli-and-binomial-distribution" class="level3">
<h3 class="anchored" data-anchor-id="bernoulli-and-binomial-distribution">Bernoulli and Binomial Distribution</h3>
<p>A <strong>bernoulli trial</strong> is an experiment that has two possible outcomes: a success <span class="math inline">\(x= 1\)</span> and a failure <span class="math inline">\(x = 0\)</span>. We denote the probability of a success as <span class="math inline">\(p\)</span>, and the probability of a failure as <span class="math inline">\(q = 1-p\)</span>. For example, a coin flip could be seen as a bernoulli trial, with <span class="math inline">\(p = 0.5\)</span>.</p>
<p>For example, below is a bernoulli distribution with <span class="math inline">\(p = 0.15\)</span>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2068255268.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
<p>The bernoulli distribution is a special case of the <strong>Binomial distribution</strong>, which is basically the question of how many success you will get with <span class="math inline">\(n\)</span> number of trials. When <span class="math inline">\(n=1\)</span> (just one coin flip), we get the bernoulli distribution.</p>
<p>The probability density function of a bernoulli distribution is:</p>
<p><span class="math display">\[
Pr(x) = \begin{cases}
p \quad \text{if } x = 1 \\
1 - p \quad \text{if } x= 0
\end{cases}
\]</span></p>
<p>A bernoulli distribution is often employed in randomisation of treatment during experiments, as we will see later.</p>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="statistical-inference" class="level1">
<h1><strong>Statistical Inference</strong></h1>
<section id="estimands-and-estimates" class="level3">
<h3 class="anchored" data-anchor-id="estimands-and-estimates">Estimands and Estimates</h3>
<p><br></p>
</section>
<section id="central-limit-theorem" class="level3">
<h3 class="anchored" data-anchor-id="central-limit-theorem">Central Limit Theorem</h3>
<p><br></p>
</section>
<section id="nonparametric-bootstrap" class="level3">
<h3 class="anchored" data-anchor-id="nonparametric-bootstrap">Nonparametric Bootstrap</h3>
<p><br></p>
</section>
<section id="statistical-testing" class="level3">
<h3 class="anchored" data-anchor-id="statistical-testing">Statistical Testing</h3>
<p><br></p>
</section>
<section id="implementing-a-hypothesis-test" class="level3">
<h3 class="anchored" data-anchor-id="implementing-a-hypothesis-test">Implementing a Hypothesis Test</h3>
<p><br></p>
</section>
<section id="types-of-errors" class="level3">
<h3 class="anchored" data-anchor-id="types-of-errors">Types of Errors</h3>
<p><br></p>
</section>
<section id="confidence-intervals" class="level3">
<h3 class="anchored" data-anchor-id="confidence-intervals">Confidence Intervals</h3>
<p><br></p>
<p><br></p>
<hr>
</section>
</section>
<section id="correlations-between-variables" class="level1">
<h1><strong>Correlations Between Variables</strong></h1>
<section id="covariance-and-correlation" class="level3">
<h3 class="anchored" data-anchor-id="covariance-and-correlation">Covariance and Correlation</h3>
<p><br></p>
</section>
<section id="best-fit-lines" class="level3">
<h3 class="anchored" data-anchor-id="best-fit-lines">Best-Fit Lines</h3>
<p><br></p>
</section>
<section id="simple-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="simple-linear-regression">Simple Linear Regression</h3>
<p><br></p>
</section>
<section id="multiple-linear-regression" class="level3">
<h3 class="anchored" data-anchor-id="multiple-linear-regression">Multiple Linear Regression</h3>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>