<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Causal Identification â€“ Statistics for Political Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<link href="./glm.html" rel="next">
<link href="./causal.html" rel="prev">
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="mathjax-config.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./random.html">Part I: Theoretical Statistics</a></li><li class="breadcrumb-item"><a href="./identify.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Causal Identification</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistics for Political Science</a> 
    </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part I: Theoretical Statistics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Random Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Statistical Inference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ols.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Classical Least Squares</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gls.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Generalised Least Squares</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Maximum Likelihood</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mom.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Method of Moments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./causal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Causal Inference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./identify.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Causal Identification</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part II: Applied Statistics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Generalised Linear Model</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#selection-on-observables" id="toc-selection-on-observables" class="nav-link active" data-scroll-target="#selection-on-observables"><span class="header-section-number">8.1</span> Selection on Observables</a></li>
  <li><a href="#instruments-and-non-compliance" id="toc-instruments-and-non-compliance" class="nav-link" data-scroll-target="#instruments-and-non-compliance"><span class="header-section-number">8.2</span> Instruments and Non-Compliance</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./random.html">Part I: Theoretical Statistics</a></li><li class="breadcrumb-item"><a href="./identify.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Causal Identification</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Causal Identification</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>IN PROGRESS - WILL BE RE-MADE!</strong></p>
<p>In the last chapter, we introduced the frameworks of causal inference, and how randomisation can establish causality.</p>
<p>However, in the social sciences, we cannot always run randomised experiments where we control the assignment of treatment. In fact, in most scenarios, we have to rely on observational data. In this chapter, we introduce methods to identify causal effects when randomisation is not possible.</p>
<p><br></p>
<section id="selection-on-observables" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="selection-on-observables"><span class="header-section-number">8.1</span> Selection on Observables</h2>
<p>Randomisation is not always feasible. Selection on Observables is an alternative way to get rid of the selection bias problem by <a href="./causal.html#confounders">controlling for a set of confounders</a> <span class="math inline">\(\mathcal X\)</span> to <a href="./causal.html#structural-causal-models">block backdoor paths</a> and isolate the relationship between <span class="math inline">\(D \rightarrow Y\)</span>.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Good and Bad Controls
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Good controls are confounders <span class="math inline">\(X\)</span> who cause <span class="math inline">\(D\)</span> (i.e.&nbsp;<span class="math inline">\(X \rightarrow D\)</span>), and cause/caused by <span class="math inline">\(Y\)</span>. They must be linked to both <span class="math inline">\(D\)</span> and <span class="math inline">\(Y\)</span>.</p>
<p>Bad controls are any variable <span class="math inline">\(W\)</span> that is caused by <span class="math inline">\(D\)</span>, i.e.&nbsp;<span class="math inline">\(D \rightarrow W\)</span>. We do not need to control for this because <span class="math inline">\(W\)</span> isnâ€™t causing selection into <span class="math inline">\(D\)</span>, it is actually itself caused by <span class="math inline">\(D\)</span>.</p>
<p>Another bad control is a variable <span class="math inline">\(Z\)</span> that only causes <span class="math inline">\(D\)</span>, and not <span class="math inline">\(Y\)</span>. This reduces the variation in <span class="math inline">\(D\)</span> (since we are now only using the part of <span class="math inline">\(D\)</span> caused by <span class="math inline">\(Y\)</span>), which may amplify any other confounders unaccounted for.</p>
<p>Neutral controls are variables that only cause <span class="math inline">\(Y\)</span> and are not associated with <span class="math inline">\(D\)</span>. They do not affect the causal identification, but can reduce our standard errors of our estimates.</p>
</div>
</div>
</div>
<p>We will have controlled for the correct amount of confounders in set <span class="math inline">\(\mathcal X\)</span>, when we have eliminated all variables causing selection bias, and we meet the following assumptions:</p>
<div id="def-selectiononobservables" class="theorem definition" style="border-style: solid; border-radius: 8px; border-width: 0.5px; padding-top: 5px;   padding-right: 5px; padding-bottom: 5px; padding-left: 5px;">
<p><span class="theorem-title"><strong>Definition 8.1 (Selection on Observables)</strong></span> There are 2 assumptions needed to identify causal effects in the selections on observables framework.</p>
<p><strong>Conditional Ignorability</strong> (also called conditional independence) means that among units <span class="math inline">\(i\)</span> with identical confounder values <span class="math inline">\(\mathcal X_i\)</span>, treatment <span class="math inline">\(D_i\)</span> is as-if randomly assigned. Potential outcomes are independent from treatment within each specific confounder value <span class="math inline">\(\mathcal X_i = x\)</span>.</p>
<p><span class="math display">\[
(Y_{0i}, Y_{1i}) \ind D_i \ | \ \mathcal X_i = x, \ \forall \ x \in \mathcal X
\]</span></p>
<p>This assumption implies that given any value of confounders <span class="math inline">\(\mathcal X_i = x\)</span>, potential outcomes are equivalent between treatment and control groups:</p>
<p><span class="math display">\[
\begin{align}
&amp; \E(Y_{0i}|D_i = 1, \mathcal X_i = x) \ = \ \E(Y_{0i}|D_i = 0, \mathcal X_i = x) \ = \ \E(Y_{0i}|\mathcal X_i = x) \\
&amp; \E(Y_{1i}|D_i = 1, \mathcal X_i = x) \ = \ \E(Y_{1i}|D_i = 0, \mathcal X_i = x) \ = \ \E(Y_{1i}|\mathcal X_i = x)
\end{align}
\]</span></p>
<p><strong>Common Support</strong> is the second assumption, and it states for any unit <span class="math inline">\(i\)</span> with any value of <span class="math inline">\(\mathcal X_i\)</span>, they have a non-zero probability they can be assigned to both control and treatment.</p>
</div>
<p>How do these assumptions help us identify and measure the causal effect? Well, let us first start with the CATE from <a href="causal.html#def-cate" class="quarto-xref">definition&nbsp;<span>7.6</span></a>:</p>
<p><span class="math display">\[
\begin{align}
\tau_{CATE}(x) &amp; = \E(Y_{1i} - Y_{0i} \ | \ \mathcal X_i = x) \\
&amp; = \E(Y_{1i} | \mathcal X_i = x) - \E(Y_{0i}|\mathcal X_i = x) \\
\end{align}
\]</span></p>
<p>Now, from the properties implied by conditional ignorability given in <a href="#def-selectiononobservables" class="quarto-xref">definition&nbsp;<span>8.1</span></a>, we get</p>
<p><span class="math display">\[
\begin{align}
\tau_{CATE}(x) &amp; = \E(Y_{1i}|D_i = 1, \mathcal X_i = x) - \E(Y_{0i}|D_i = 0, \mathcal X_i = x) \\
&amp; = \E(Y_{i}|D_i = 1, \mathcal X_i = x) - \E(Y_{i}|D_i = 0, \mathcal X_i = x) \\
\end{align}
\]</span></p>
<p>And the second step above is because <span class="math inline">\(Y_{1i}|D_i = 1\)</span> and <span class="math inline">\(Y_{0i}|D_i = 0\)</span> are observable outcomes. Thus, with independence, we can identify the CATE with just observed outcomes.</p>
<p>Now, let us consider the ATE, which is <span class="math inline">\(\E(Y_{1i} - Y_{0i})\)</span>. From the definition of a continuous random variableâ€™s expectation given in <a href="random.html#def-exp" class="quarto-xref">definition&nbsp;<span>1.2</span></a>, we can rewrite the ATE as</p>
<p><span class="math display">\[
\tau_{ATE} = \int\tau_{CATE}(x) \P(\mathcal x) dy
\]</span></p>
<p>Which is a weighted average. We established in <span class="quarto-unresolved-ref">?eq-soocate</span> that we can identify the CATE. Thus, we can plug <span class="quarto-unresolved-ref">?eq-soocate</span> into the ATE to get our identified ATE:</p>
<p><span class="math display">\[
\tau_{ATE} = \int [\E(Y_{i}|D_i = 1, \mathcal X_i = x) - \E(Y_{i}|D_i = 0, \mathcal X_i = x)] \P(x) dy
\]</span></p>
<p>And all the values in this equation are observed outcomes <span class="math inline">\(Y_i\)</span>, meaning if we control for set of confounders <span class="math inline">\(\mathcal X\)</span>, our correlation becomes a causal effect.</p>
<p>We can also do a very similar proof for identifying the ATT. The conditional-ATT is equal to the CATE based on the assumption of conditional ignorability. Using the definition of the ATT from <a href="causal.html#def-att" class="quarto-xref">definition&nbsp;<span>7.5</span></a> and the definition of expectation given in <a href="random.html#def-exp" class="quarto-xref">definition&nbsp;<span>1.2</span></a>, we see the ATT equals:</p>
<p><span class="math display">\[
\begin{align}
\tau_{ATT} &amp; = \int \tau_{CATE}(x) \P(x|D_i = 1) dy \\
&amp; = \int [\E(Y_{i}|D_i = 1, \mathcal X_i = x) - \E(Y_{i}|D_i = 0, \mathcal X_i = x)] \P(x|D_i = 1) dy
\end{align}
\]</span></p>
<p>And all the <span class="math inline">\(Y_i\)</span> here are observed, meaning we can identify the ATT.</p>
<p>Assuming we meet the assumptions given in <a href="#def-selectiononobservables" class="quarto-xref">definition&nbsp;<span>8.1</span></a>, there are multiple estimators, including regression, matching, and weighting, which we will discuss in more detail in the chapter on causal estimation.</p>
<p><br></p>
</section>
<section id="instruments-and-non-compliance" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="instruments-and-non-compliance"><span class="header-section-number">8.2</span> Instruments and Non-Compliance</h2>
<p>When we assign individuals to treatment/control in randomised experiments, we often cannot guarantee that individuals will actually follow through with treatment. Sometimes, someone who was supposed to get treatment refuses treatment, and sometimes, someone who shouldnâ€™t get the treatment decides to get treatment.</p>
<p>We can formalise this idea. Let us assume an <strong>encouragement</strong> <span class="math inline">\(Z_i \in \{0, 1\}\)</span>, which is our treatment assignment. Then, we have the <strong>treatment</strong> variable <span class="math inline">\(D_i \in \{0,1\}\)</span>, which is someone who actually took the treatment or not. Given this framework, we can divide all units <span class="math inline">\(i\)</span> into 4 categories:</p>
<ol type="1">
<li>Compliers: People who comply with encouragement <span class="math inline">\(Z_i\)</span>. Their <span class="math inline">\(Z_i = D_i\)</span>.</li>
<li>Always-takers: People who no matter what encouragement <span class="math inline">\(Z_i\)</span> is, always take treatment.</li>
<li>Never-takers: People who no matter their encouragement <span class="math inline">\(Z_i\)</span> is, never take treatment.</li>
<li>Defiers: People who do the opposite of encouragement <span class="math inline">\(Z_i\)</span>, so always <span class="math inline">\(D_i â‰  Z_i\)</span>.</li>
</ol>
<p>We can show what will happen with all 4 types of people in a table, called the principal strata:</p>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td></td>
<td><span class="math inline">\(Z_i = 1\)</span></td>
<td><span class="math inline">\(Z_i = 0\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(D_i = 1\)</span></td>
<td>Complier/Always-Taker</td>
<td>Defier/Always-Taker</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(D_i = 0\)</span></td>
<td>Defier/Never-Taker</td>
<td>Complier/Never-Taker</td>
</tr>
</tbody>
</table>
<p>The idea of the non-compliance designs is to use our encouragement/treatment assignment <span class="math inline">\(Z\)</span> as an instrument for <span class="math inline">\(D\)</span> - actually taking the treatment. This can solve any concerns we might have regarding selection into non-compliance.</p>
<p>One causal estimand that we can estimate is the <strong>Intent To Treat (ITT)</strong>, which is essentially the ATE of <span class="math inline">\(Z\)</span> on <span class="math inline">\(Y\)</span>, ignoring if people actually took the treatment or not. This is essentially the affect of encouragement. If there is any non-compliance, then the ITT will not equal the ATE.</p>
<p><span class="math display">\[
\tau_{ITT} = \E(Y_i|Z_i = 1) - \E(Y_i | Z_i = 0)
\]</span></p>
<p>This is quite easily estimatable in non-compliance randomisation settings, since <span class="math inline">\(Z\)</span> is randomly assigned. Thus, we can calculate the ITT with a linear regression:</p>
<p><span class="math display">\[
Y_i = \alpha + \tau_{ITT} Z_i + \eps_i
\]</span></p>
<p>However, we might not care about the ITT. We might want the actual effect of <span class="math inline">\(D\)</span> on <span class="math inline">\(Y\)</span>. An alternative is to find the Average Treatment Effect on only compliers, called the Local Average Treatment Effect (LATE) (a version of the CATE from <a href="causal.html#def-cate" class="quarto-xref">definition&nbsp;<span>7.6</span></a>). We need a few assumptions:</p>
<div id="def-ivassumptions" class="theorem definition" style="border-style: solid; border-radius: 8px; border-width: 0.5px; padding-top: 5px;   padding-right: 5px; padding-bottom: 5px; padding-left: 5px;">
<p><span class="theorem-title"><strong>Definition 8.2 (Instrumental Variables Assumptions)</strong></span> There are 4 assumptions for us to identify the LATE. The first 3 are the normal assumptions from the IV estimator.</p>
<ol type="1">
<li><strong>Relevance</strong>: <span class="math inline">\(Z\)</span> must be correlated to <span class="math inline">\(D\)</span>. Or in other words, compilers must exist, or else, encouragement would not affect treatment.</li>
<li><strong>Ignorability/Exogneity</strong>: There is no backdoor path between <span class="math inline">\(Z\)</span> and <span class="math inline">\(D\)</span>, and no backdoor path between <span class="math inline">\(Z\)</span> and <span class="math inline">\(Y\)</span> (we can do controls/selection on observables to account for this).</li>
<li><strong>Exclusions Restriction</strong>: <span class="math inline">\(Z\)</span> must only have an effect on <span class="math inline">\(Y\)</span> through <span class="math inline">\(D\)</span>. <span class="math inline">\(Z\)</span> must not have any independent effect on <span class="math inline">\(Y\)</span>.</li>
<li><strong>Monotonicity</strong>: There are no defiers.</li>
</ol>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Visual Examples of Violations
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The figure below contains some visual examples of violations of the above to faciliate understanding of these assumptions:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-390858332.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<p>Let us show how we can prove the LATE is identifiable under these assumptions. First, the ITT itself in <span class="quarto-unresolved-ref">?eq-itt</span> is identifiable under exogeneity/ignorability alone. Now, let us define <span class="math inline">\(c\)</span> as compliers, <span class="math inline">\(a\)</span> as always-takers, <span class="math inline">\(n\)</span> as never-takers, and <span class="math inline">\(d\)</span> as defiers. We can break down the ITT into a weighted average:</p>
<p><span class="math display">\[
\tau_{ITT} = \tau_{ITT}^c \P(c) + \tau_{ITT}^a \P(a) + \tau_{ITT}^n \P(n) + \tau_{ITT}^d \P(d)
\]</span></p>
<p>We know that under our assumption of monotonicity, we assume no defiers, so <span class="math inline">\(\P(d) = 0\)</span>:</p>
<p><span class="math display">\[
\tau_{ITT} = \tau_{ITT}^c \P(c) + \tau_{ITT}^a \P(a) + \tau_{ITT}^n \P(n)
\]</span></p>
<p>Our exclusions restriction says that <span class="math inline">\(Z\)</span> has no affect on <span class="math inline">\(Y\)</span>. Remember that the ITT from <span class="quarto-unresolved-ref">?eq-itt</span> is the relationship between <span class="math inline">\(Z\)</span> and <span class="math inline">\(Y\)</span>. But since always-takers and never-takers ignore <span class="math inline">\(Z\)</span> when deciding treatment, <span class="math inline">\(Z\)</span> has no effect of them on <span class="math inline">\(Y\)</span>. Thus, we can further simplify:</p>
<p><span class="math display">\[
\tau_{ITT} = \tau_{ITT}^c \P(c)
\]</span></p>
<p>Remember that the <span class="math inline">\(\tau_{ITT}\)</span> for compliers, <span class="math inline">\(\tau_{ITT}^c\)</span>, is our LATE that we want to identify. So, let us isolate it to get:</p>
<p><span class="math display">\[
\tau_{LATE} = \frac{\tau_{ITT}}{\P(c)} \ = \ \frac{\E(Y_i | Z_i = 1) - \E(Y_i | Z_i = 0)}{\E(D_i | Z_i = 1) - \E(D_i | Z_i = 0)}
\]</span></p>
<p>The LATE is interpreted as the ATE of the compliers. This can be tricky to interpret sometimes, as you cannot actually identify who the compliers are, and different encouragements <span class="math inline">\(Z\)</span> can result in different compliers.</p>
<p>The LATE is also generally not equal to the ATE or ATT without further assumptions. When there is only one-sided non-compliance when people who are not encouraged cannot get the treatment, the LATE does equal the ATT.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./causal.html" class="pagination-link" aria-label="Causal Inference">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Causal Inference</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./glm.html" class="pagination-link" aria-label="Generalised Linear Model">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Generalised Linear Model</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>